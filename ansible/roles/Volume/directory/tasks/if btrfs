---
- name: Create btrfs Subvolume for gluster
  ansible.builtin.command: "btrfs subvolume create {{ volume_name }}"
  args:
    chdir: "{{ bind_mount }}{{ brick_number }}"
    creates: "{{ bind_mount }}{{ brick_number }}/{{ volume_name }}"
  become: yes
  loop: "{{ storage_partition }}"
  loop_control:
    index_var: brick_number


- name: Create a directory inside btrfs subvolume
  become: true
  ansible.builtin.file:
    path: "{{ bind_mount }}{{ brick_number }}/{{ volume_name }}/dir"
    state: directory
